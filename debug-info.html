<!DOCTYPE html>
<html>
<head>
    <title>Debug Info</title>
    <style>
        body { font-family: monospace; background: #000; color: #0f0; padding: 20px; }
        .section { margin: 20px 0; padding: 10px; border: 1px solid #0f0; }
    </style>
</head>
<body>
    <div class="section">
        <h2>Server Status</h2>
        <div id="server-status">Checking...</div>
    </div>
    
    <div class="section">
        <h2>Current Page Content</h2>
        <div id="page-content">Loading...</div>
    </div>
    
    <div class="section">
        <h2>Auth Test</h2>
        <button onclick="testAuth()">Test Authentication</button>
        <div id="auth-result"></div>
    </div>
    
    <script>
        // Check server
        fetch('/api/health')
            .then(r => r.json())
            .then(data => document.getElementById('server-status').textContent = 'OK: ' + JSON.stringify(data))
            .catch(e => document.getElementById('server-status').textContent = 'Error: ' + e.message);
        
        // Check main page
        fetch('/')
            .then(r => r.text())
            .then(html => document.getElementById('page-content').textContent = html.substring(0, 500) + '...')
            .catch(e => document.getElementById('page-content').textContent = 'Error: ' + e.message);
        
        function testAuth() {
            fetch('/api/auth/simple-login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({email: 'max.bisinger@warubi-sports.com', password: 'ITP2024'})
            })
            .then(r => r.json())
            .then(data => document.getElementById('auth-result').textContent = JSON.stringify(data))
            .catch(e => document.getElementById('auth-result').textContent = 'Error: ' + e.message);
        }
    </script>
</body>
</html>