# Railway deployment configuration
# Installs Chromium for Puppeteer PDF generation

[phases.setup]
nixPkgs = ['chromium', 'nodejs_20', 'nodePackages.pnpm']

[phases.install]
cmds = ['pnpm install --frozen-lockfile']

[phases.build]
cmds = ['pnpm run build']

[start]
cmd = 'pnpm start'

[variables]
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD = 'true'
